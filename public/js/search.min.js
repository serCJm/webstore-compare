"use strict";window.onload=function(){const e=document.querySelector("#input"),t=document.querySelectorAll(".option");e.value="";let n="walmart";function c(){for(let e=0;e<t.length;e++)t[e].addEventListener("click",l)}if(c(),matchMedia){const e=window.matchMedia("(min-width: 800px)");e.addListener(s),s(e)}function s(e){if(e.matches){n="all";for(let e of t)e.removeEventListener("click",l),e.classList.contains("option-active")&&e.classList.toggle("option-active"),e.classList.add("option-inactive")}else{n="walmart",c(),t[0].classList.add("option-active");for(let e of t)e.classList.contains("option-inactive")&&e.classList.remove("option-inactive")}}function l(){for(let e of t)e.classList.contains("option-active")&&e.classList.toggle("option-active");this.classList.toggle("option-active"),n=this.text.toLowerCase(),console.log(n)}function o(e){const t=document.querySelector("#walmart"),n=document.createElement("ul");t.appendChild(n);const c=e.items;if(c)c.forEach(function(e){const t=document.createElement("li"),c=document.createElement("a");c.classList.add("result-item"),c.setAttribute("href",e.productUrl),c.setAttribute("target","_blank"),t.appendChild(c),n.appendChild(t);const s=document.createElement("div"),l=document.createElement("img");s.classList.add("result-img"),l.setAttribute("src",e.largeImage),l.setAttribute("width",100),l.setAttribute("height",100),s.appendChild(l),c.appendChild(s);const o=document.createElement("div");o.classList.add("result-text");const i=document.createElement("h2");i.classList.add("result-title");const a=document.createTextNode(e.name);i.appendChild(a),o.appendChild(i),c.appendChild(o);const d=document.createElement("p");d.classList.add("result-price");const r=document.createTextNode("Price: $"+e.salePrice+" USD");d.appendChild(r),o.appendChild(d)});else{const e=document.createElement("p");e.classList.add("result-price"),e.setAttribute("style","text-align: center");const t=document.createTextNode("No Results Found. Try Another Search.");e.appendChild(t);const c=document.createElement("li");c.appendChild(e),n.appendChild(c)}}function i(e){const t=document.querySelector("#ebay"),n=document.createElement("ul");t.appendChild(n);const c=e.findItemsByKeywordsResponse[0].searchResult[0].item;if(console.log(c),c)c.forEach(function(e){const t=document.createElement("li"),c=document.createElement("a");c.classList.add("result-item"),c.setAttribute("href",e.viewItemURL[0]),c.setAttribute("target","_blank"),t.appendChild(c),n.appendChild(t);const s=document.createElement("div"),l=document.createElement("img");s.classList.add("result-img"),l.setAttribute("src",e.galleryURL[0]),l.setAttribute("width",100),l.setAttribute("height",100),s.appendChild(l),c.appendChild(s);const o=document.createElement("div");o.classList.add("result-text");const i=document.createElement("h2");i.classList.add("result-title");const a=document.createTextNode(e.title[0]);i.appendChild(a),o.appendChild(i),c.appendChild(o);const d=document.createElement("p");d.classList.add("result-price");const r=document.createTextNode("Price: $"+e.sellingStatus[0].currentPrice[0].__value__+" USD");d.appendChild(r),o.appendChild(d)});else{const e=document.createElement("p");e.classList.add("result-price"),e.setAttribute("style","text-align: center");const t=document.createTextNode("No Results Found. Try Another Search.");e.appendChild(t);const c=document.createElement("li");c.appendChild(e),n.appendChild(c)}}function a(){document.querySelector(".loader").classList.toggle("loader-active")}document.querySelector(".search-btn").addEventListener("click",function(t){t.preventDefault();let c=document.querySelector("#walmart"),s=document.querySelector("#ebay");c.firstChild&&c.removeChild(c.firstChild),s.firstChild&&s.removeChild(s.firstChild),a();let l=`/${n}?search=${e.value}`;console.log(l),function(e){const t=new Request(e,{headers:{"Content-Type":"application/json; charset=utf-8"}});fetch(t).then(function(e){return e.json()}).then(function(e){if(a(),console.log(n),console.log(e),"ebay"===n)console.log("shouldnt run"),i(e);else if("walmart"===n)console.log("shouldnt run"),o(e);else{let t=JSON.parse(e[0]),n=JSON.parse(e[1]);o(t),i(n)}}).catch(e=>console.log(e))}(l)}),document.querySelector(".tooltip-help").addEventListener("click",function(){const e=document.querySelectorAll(".burg"),t=document.querySelector("#help-modal");for(let t of e)t.classList.contains("animate")||t.classList.contains("reverse")?(t.classList.toggle("animate"),t.classList.toggle("reverse")):t.classList.toggle("animate");t.classList.toggle("modal-inactive"),t.classList.toggle("modal-active")})};